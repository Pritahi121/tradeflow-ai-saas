(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[522],{63:(e,s,t)=>{"use strict";var r=t(7260);t.o(r,"useRouter")&&t.d(s,{useRouter:function(){return r.useRouter}})},759:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>w});var r=t(5155),a=t(3209),n=t(7003),i=t(7812),l=t(5850),c=t(5626),d=t(6154),o=t(5870),u=t(1847);let h=(0,u.A)("credit-card",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),x=(0,u.A)("download",[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]]);var m=t(9347),p=t(2529),v=t(1169),g=t(1871),f=t(2619),b=t.n(f),j=t(4139),y=t(9293);function N(){var e;let{user:s,signOut:t}=(0,y.A)();return(0,r.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,r.jsx)("header",{className:"bg-white shadow-sm border-b",children:(0,r.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,r.jsxs)("div",{className:"flex justify-between items-center h-16",children:[(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)(n.$,{variant:"ghost",size:"sm",asChild:!0,className:"mr-4",children:(0,r.jsxs)(b(),{href:"/dashboard",children:[(0,r.jsx)(c.A,{className:"h-4 w-4 mr-2"}),"Back to Dashboard"]})}),(0,r.jsxs)("div",{className:"flex items-center",children:[(0,r.jsx)("div",{className:"h-8 w-8 bg-gradient-to-r from-blue-600 to-purple-600 rounded-lg flex items-center justify-center",children:(0,r.jsx)(d.A,{className:"h-5 w-5 text-white"})}),(0,r.jsx)("div",{className:"ml-4",children:(0,r.jsx)("h1",{className:"text-xl font-semibold text-gray-900",children:"TradeFlow AI"})})]})]}),(0,r.jsxs)("nav",{className:"hidden md:flex space-x-8",children:[(0,r.jsx)("a",{href:"/dashboard",className:"text-gray-500 hover:text-gray-700",children:"Dashboard"}),(0,r.jsx)("a",{href:"/upload",className:"text-gray-500 hover:text-gray-700",children:"Upload PO"}),(0,r.jsx)("a",{href:"/integrations",className:"text-gray-500 hover:text-gray-700",children:"Integrations"}),(0,r.jsx)("a",{href:"/billing",className:"text-blue-600 font-medium",children:"Billing"}),(0,r.jsx)("a",{href:"/settings",className:"text-gray-500 hover:text-gray-700",children:"Settings"})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("span",{className:"text-sm text-gray-600",children:["Welcome, ",(null==s||null==(e=s.user_metadata)?void 0:e.name)||(null==s?void 0:s.email)]}),(0,r.jsx)(n.$,{variant:"ghost",size:"sm",asChild:!0,children:(0,r.jsx)(b(),{href:"/settings",children:(0,r.jsx)(o.A,{className:"h-4 w-4"})})}),(0,r.jsx)(n.$,{variant:"ghost",size:"sm",onClick:t,children:"Sign Out"})]})]})})}),(0,r.jsxs)("main",{className:"max-w-7xl mx-auto py-6 px-4 sm:px-6 lg:px-8",children:[(0,r.jsxs)("div",{className:"mb-8",children:[(0,r.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Billing & Subscription"}),(0,r.jsx)("p",{className:"mt-2 text-gray-600",children:"Manage your subscription, view usage, and billing history."})]}),(0,r.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8",children:[(0,r.jsxs)(a.Zp,{className:"lg:col-span-2",children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Current Plan"}),(0,r.jsx)(a.BT,{children:"Your active subscription and usage details"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:"Starter Plan"}),(0,r.jsx)("p",{className:"text-gray-600",children:"₹299/month • 10 credits included"})]}),(0,r.jsx)(i.E,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Active"})]}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("div",{className:"flex justify-between text-sm mb-2",children:[(0,r.jsx)("span",{children:"Credits Used This Month"}),(0,r.jsx)("span",{children:"2/10"})]}),(0,r.jsx)(l.k,{value:20,className:"h-2"}),(0,r.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"8 credits remaining"})]}),(0,r.jsx)("div",{className:"pt-4 border-t",children:(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium",children:"Next billing date"}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:"February 15, 2024"})]}),(0,r.jsxs)(n.$,{variant:"outline",children:[(0,r.jsx)(h,{className:"h-4 w-4 mr-2"}),"Update Payment"]})]})})]})]})]}),(0,r.jsxs)(a.Zp,{children:[(0,r.jsx)(a.aR,{children:(0,r.jsx)(a.ZB,{children:"Quick Actions"})}),(0,r.jsxs)(a.Wu,{className:"space-y-3",children:[(0,r.jsxs)(n.$,{className:"w-full",children:[(0,r.jsx)(d.A,{className:"h-4 w-4 mr-2"}),"Upgrade Plan"]}),(0,r.jsxs)(n.$,{variant:"outline",className:"w-full",children:[(0,r.jsx)(x,{className:"h-4 w-4 mr-2"}),"Download Invoice"]}),(0,r.jsxs)(n.$,{variant:"outline",className:"w-full",children:[(0,r.jsx)(h,{className:"h-4 w-4 mr-2"}),"Payment Methods"]})]})]})]}),(0,r.jsxs)(a.Zp,{className:"mb-8",children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Available Plans"}),(0,r.jsx)(a.BT,{children:"Choose the plan that best fits your business needs"})]}),(0,r.jsx)(a.Wu,{children:(0,r.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[{name:"Starter",price:"₹299",period:"/month",credits:10,description:"Perfect for small businesses getting started",features:["10 PO processing credits per month","Email notifications","Google Sheets export","Basic support","Data retention: 6 months"],popular:!1,current:!0},{name:"Professional",price:"₹999",period:"/month",credits:100,description:"Ideal for growing businesses with regular PO volume",features:["100 PO processing credits per month","Priority email notifications","Google Sheets export","Priority support","Data retention: 2 years","Advanced analytics"],popular:!0,current:!1},{name:"Business",price:"₹2,499",period:"/month",credits:500,description:"For established businesses with high PO volume",features:["500 PO processing credits per month","Real-time notifications","Multiple export formats","Phone & email support","Data retention: 5 years","Advanced analytics","Custom reporting"],popular:!1,current:!1}].map((e,s)=>(0,r.jsxs)("div",{className:"relative p-6 border rounded-lg ".concat(e.popular?"border-blue-500 bg-blue-50":"border-gray-200"," ").concat(e.current?"ring-2 ring-green-500":""),children:[e.popular&&(0,r.jsx)("div",{className:"absolute -top-3 left-1/2 transform -translate-x-1/2",children:(0,r.jsxs)(i.E,{className:"bg-blue-600 text-white",children:[(0,r.jsx)(m.A,{className:"h-3 w-3 mr-1"}),"Most Popular"]})}),e.current&&(0,r.jsx)("div",{className:"absolute -top-3 right-4",children:(0,r.jsxs)(i.E,{className:"bg-green-600 text-white",children:[(0,r.jsx)(p.A,{className:"h-3 w-3 mr-1"}),"Current Plan"]})}),(0,r.jsxs)("div",{className:"text-center mb-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-center mb-2",children:["Starter"===e.name&&(0,r.jsx)(v.A,{className:"h-6 w-6 text-blue-600"}),"Professional"===e.name&&(0,r.jsx)(g.A,{className:"h-6 w-6 text-purple-600"}),"Business"===e.name&&(0,r.jsx)(m.A,{className:"h-6 w-6 text-orange-600"})]}),(0,r.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:e.name}),(0,r.jsx)("p",{className:"text-gray-600 text-sm mb-4",children:e.description}),(0,r.jsxs)("div",{className:"flex items-baseline justify-center",children:[(0,r.jsx)("span",{className:"text-3xl font-bold text-gray-900",children:e.price}),(0,r.jsx)("span",{className:"text-gray-600 ml-1",children:e.period})]}),(0,r.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:[e.credits," credits included"]})]}),(0,r.jsx)("ul",{className:"space-y-3 mb-6",children:e.features.map((e,s)=>(0,r.jsxs)("li",{className:"flex items-start",children:[(0,r.jsx)(p.A,{className:"h-4 w-4 text-green-600 mt-0.5 mr-3 flex-shrink-0"}),(0,r.jsx)("span",{className:"text-sm text-gray-700",children:e})]},s))}),(0,r.jsx)(n.$,{className:"w-full",variant:e.current?"outline":e.popular?"default":"outline",disabled:e.current,children:e.current?"Current Plan":"Upgrade to ".concat(e.name)})]},s))})})]}),(0,r.jsxs)(a.Zp,{children:[(0,r.jsxs)(a.aR,{children:[(0,r.jsx)(a.ZB,{children:"Payment History"}),(0,r.jsx)(a.BT,{children:"View your past invoices and payments"})]}),(0,r.jsxs)(a.Wu,{children:[(0,r.jsx)("div",{className:"space-y-4",children:[{id:"inv_001",date:"2024-01-15",amount:"₹299",status:"paid",plan:"Starter Plan",period:"Jan 2024"},{id:"inv_002",date:"2023-12-15",amount:"₹299",status:"paid",plan:"Starter Plan",period:"Dec 2023"},{id:"inv_003",date:"2023-11-15",amount:"₹299",status:"paid",plan:"Starter Plan",period:"Nov 2023"}].map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,r.jsx)(p.A,{className:"h-5 w-5 text-green-600"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e.plan}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.period})]})]}),(0,r.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"font-medium text-gray-900",children:e.amount}),(0,r.jsx)("p",{className:"text-sm text-gray-600",children:e.date})]}),(0,r.jsx)(i.E,{className:"bg-green-100 text-green-800 hover:bg-green-100",children:"Paid"}),(0,r.jsx)(n.$,{variant:"ghost",size:"sm",children:(0,r.jsx)(x,{className:"h-4 w-4"})})]})]},e.id))}),(0,r.jsx)("div",{className:"mt-6 text-center",children:(0,r.jsx)(n.$,{variant:"outline",children:"View All Invoices"})})]})]})]})]})}function w(){return(0,r.jsx)(j.A,{children:(0,r.jsx)(N,{})})}},1169:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]])},1871:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("building",[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]])},2529:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("circle-check-big",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},3209:(e,s,t)=>{"use strict";t.d(s,{BT:()=>c,Wu:()=>d,ZB:()=>l,Zp:()=>n,aR:()=>i});var r=t(5155);t(2115);var a=t(5016);function n(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...t})}function i(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...t})}function l(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",s),...t})}function c(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",s),...t})}function d(e){let{className:s,...t}=e;return(0,r.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",s),...t})}},3468:(e,s,t)=>{"use strict";t.d(s,{A:()=>n});var r=t(2115),a=t(5155);function n(e,s=[]){let t=[],i=()=>{let s=t.map(e=>r.createContext(e));return function(t){let a=t?.[e]||s;return r.useMemo(()=>({[`__scope${e}`]:{...t,[e]:a}}),[t,a])}};return i.scopeName=e,[function(s,n){let i=r.createContext(n),l=t.length;t=[...t,n];let c=s=>{let{scope:t,children:n,...c}=s,d=t?.[e]?.[l]||i,o=r.useMemo(()=>c,Object.values(c));return(0,a.jsx)(d.Provider,{value:o,children:n})};return c.displayName=s+"Provider",[c,function(t,a){let c=a?.[e]?.[l]||i,d=r.useContext(c);if(d)return d;if(void 0!==n)return n;throw Error(`\`${t}\` must be used within \`${s}\``)}]},function(...e){let s=e[0];if(1===e.length)return s;let t=()=>{let t=e.map(e=>({useScope:e(),scopeName:e.scopeName}));return function(e){let a=t.reduce((s,{useScope:t,scopeName:r})=>{let a=t(e)[`__scope${r}`];return{...s,...a}},{});return r.useMemo(()=>({[`__scope${s.scopeName}`]:a}),[a])}};return t.scopeName=s.scopeName,t}(i,...s)]}},3941:(e,s,t)=>{"use strict";t.d(s,{N:()=>r});let r=(0,t(945).UU)("https://placeholder.supabase.co","placeholder-anon-key")},4139:(e,s,t)=>{"use strict";t.d(s,{A:()=>c});var r=t(5155),a=t(2115),n=t(63),i=t(9293),l=t(5299);function c(e){let{children:s}=e,{user:t,loading:c}=(0,i.A)(),d=(0,n.useRouter)();return((0,a.useEffect)(()=>{c||t||d.push("/login")},[t,c,d]),c)?(0,r.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,r.jsxs)("div",{className:"text-center",children:[(0,r.jsx)(l.A,{className:"h-8 w-8 animate-spin mx-auto mb-4 text-blue-600"}),(0,r.jsx)("p",{className:"text-gray-600",children:"Loading..."})]})}):t?(0,r.jsx)(r.Fragment,{children:s}):null}},5016:(e,s,t)=>{"use strict";t.d(s,{cn:()=>n});var r=t(2821),a=t(5889);function n(){for(var e=arguments.length,s=Array(e),t=0;t<e;t++)s[t]=arguments[t];return(0,a.QP)((0,r.$)(s))}},5299:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},5626:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("arrow-left",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},5850:(e,s,t)=>{"use strict";t.d(s,{k:()=>i});var r=t(5155);t(2115);var a=t(9484),n=t(5016);function i(e){let{className:s,value:t,...i}=e;return(0,r.jsx)(a.bL,{"data-slot":"progress",className:(0,n.cn)("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",s),...i,children:(0,r.jsx)(a.C1,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:"translateX(-".concat(100-(t||0),"%)")}})})}},5870:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("settings",[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},7003:(e,s,t)=>{"use strict";t.d(s,{$:()=>c});var r=t(5155);t(2115);var a=t(2467),n=t(3101),i=t(5016);let l=(0,n.F)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground shadow-xs hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9"}},defaultVariants:{variant:"default",size:"default"}});function c(e){let{className:s,variant:t,size:n,asChild:c=!1,...d}=e,o=c?a.DX:"button";return(0,r.jsx)(o,{"data-slot":"button",className:(0,i.cn)(l({variant:t,size:n,className:s})),...d})}},7602:(e,s,t)=>{"use strict";t.d(s,{hO:()=>c,sG:()=>l});var r=t(2115),a=t(7650),n=t(2467),i=t(5155),l=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"].reduce((e,s)=>{let t=(0,n.TL)(`Primitive.${s}`),a=r.forwardRef((e,r)=>{let{asChild:a,...n}=e;return"undefined"!=typeof window&&(window[Symbol.for("radix-ui")]=!0),(0,i.jsx)(a?t:s,{...n,ref:r})});return a.displayName=`Primitive.${s}`,{...e,[s]:a}},{});function c(e,s){e&&a.flushSync(()=>e.dispatchEvent(s))}},7812:(e,s,t)=>{"use strict";t.d(s,{E:()=>c});var r=t(5155);t(2115);var a=t(2467),n=t(3101),i=t(5016);let l=(0,n.F)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:t,asChild:n=!1,...c}=e,d=n?a.DX:"span";return(0,r.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(l({variant:t}),s),...c})}},8373:(e,s,t)=>{Promise.resolve().then(t.bind(t,759))},9293:(e,s,t)=>{"use strict";t.d(s,{A:()=>l,AuthProvider:()=>c});var r=t(5155),a=t(2115),n=t(3941);let i=(0,a.createContext)({user:null,session:null,loading:!0,signIn:async()=>({data:null,error:null}),signUp:async()=>({data:null,error:null}),signOut:async()=>{}}),l=()=>{let e=(0,a.useContext)(i);if(!e)throw Error("useAuth must be used within an AuthProvider");return e},c=e=>{let{children:s}=e,[t,l]=(0,a.useState)(null),[c,d]=(0,a.useState)(null),[o,u]=(0,a.useState)(!0);(0,a.useEffect)(()=>{(async()=>{var e;let{data:{session:s}}=await n.N.auth.getSession();d(s),l(null!=(e=null==s?void 0:s.user)?e:null),u(!1)})();let{data:{subscription:e}}=n.N.auth.onAuthStateChange(async(e,s)=>{var t;d(s),l(null!=(t=null==s?void 0:s.user)?t:null),u(!1),"SIGNED_IN"===e&&(null==s?void 0:s.user)&&await h(s.user)});return()=>e.unsubscribe()},[]);let h=async e=>{try{var s,t;let{error:r}=await n.N.from("clients").insert({client_id:"client_".concat(e.id.slice(0,8)),user_id:e.id,name:(null==(s=e.user_metadata)?void 0:s.name)||"User",company:(null==(t=e.user_metadata)?void 0:t.company)||"Company",email:e.email});r&&console.error("Error creating client:",r);let{error:a}=await n.N.from("user_quotas").insert({user_id:e.id,monthly_quota:10,remaining_credits:10,monthly_credits:10});a&&console.error("Error creating user quota:",a)}catch(e){console.error("Error in handleNewUser:",e)}},x=async(e,s)=>{let{data:t,error:r}=await n.N.auth.signInWithPassword({email:e,password:s});return{data:t,error:r}},m=async(e,s,t)=>{let{data:r,error:a}=await n.N.auth.signUp({email:e,password:s,options:{data:t}});return{data:r,error:a}},p=async()=>{await n.N.auth.signOut()};return(0,r.jsx)(i.Provider,{value:{user:t,session:c,loading:o,signIn:x,signUp:m,signOut:p},children:s})}},9347:(e,s,t)=>{"use strict";t.d(s,{A:()=>r});let r=(0,t(1847).A)("star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]])},9484:(e,s,t)=>{"use strict";t.d(s,{C1:()=>y,bL:()=>j});var r=t(2115),a=t(3468),n=t(7602),i=t(5155),l="Progress",[c,d]=(0,a.A)(l),[o,u]=c(l),h=r.forwardRef((e,s)=>{var t,r,a,l;let{__scopeProgress:c,value:d=null,max:u,getValueLabel:h=p,...x}=e;(u||0===u)&&!f(u)&&console.error((t="".concat(u),r="Progress","Invalid prop `max` of value `".concat(t,"` supplied to `").concat(r,"`. Only numbers greater than 0 are valid max values. Defaulting to `").concat(100,"`.")));let m=f(u)?u:100;null===d||b(d,m)||console.error((a="".concat(d),l="Progress","Invalid prop `value` of value `".concat(a,"` supplied to `").concat(l,"`. The `value` prop must be:\n  - a positive number\n  - less than the value passed to `max` (or ").concat(100," if no `max` prop is set)\n  - `null` or `undefined` if the progress is indeterminate.\n\nDefaulting to `null`.")));let j=b(d,m)?d:null,y=g(j)?h(j,m):void 0;return(0,i.jsx)(o,{scope:c,value:j,max:m,children:(0,i.jsx)(n.sG.div,{"aria-valuemax":m,"aria-valuemin":0,"aria-valuenow":g(j)?j:void 0,"aria-valuetext":y,role:"progressbar","data-state":v(j,m),"data-value":null!=j?j:void 0,"data-max":m,...x,ref:s})})});h.displayName=l;var x="ProgressIndicator",m=r.forwardRef((e,s)=>{var t;let{__scopeProgress:r,...a}=e,l=u(x,r);return(0,i.jsx)(n.sG.div,{"data-state":v(l.value,l.max),"data-value":null!=(t=l.value)?t:void 0,"data-max":l.max,...a,ref:s})});function p(e,s){return"".concat(Math.round(e/s*100),"%")}function v(e,s){return null==e?"indeterminate":e===s?"complete":"loading"}function g(e){return"number"==typeof e}function f(e){return g(e)&&!isNaN(e)&&e>0}function b(e,s){return g(e)&&!isNaN(e)&&e<=s&&e>=0}m.displayName=x;var j=h,y=m}},e=>{e.O(0,[744,945,441,255,358],()=>e(e.s=8373)),_N_E=e.O()}]);